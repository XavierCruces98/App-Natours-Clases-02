<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="./../css/estilos.css" />
    <link rel="shortcut icon" type="image/png" href="/imagenes/favicon.png" />
    <script type="module" defer src="./../js/home.js"></script>
    <title>Document</title>
  </head>
  <!-- nota si o si desde el servidor debes pasarle la variable "user" -->
  <!-- nota con el "href" cambias la direcion URL sin necesidad de JS -->
  <!-- nota A todas las imagenes debes de ponerle '/' al principio src="/imagenes" -->
  <!-- nota si pones src="imagenes" lo tomara como una URL -->
  <!-- nota recuerda que: src="/imagenes" lo buscara en la carpeta 'public' -->
  <!-- nota recuerda usar <a></a> para poner href en las imagenes <img> -->
  <body>
    <!------------------1.0 HEADER ------------->
    <header class="cabezera">
      <nav class="navegador navegador--tours">
        <form class="navegador--buscador">
          <button class="navegador--buscador-boton">
            <svg>
              <use xlink:href="/imagenes/iconos.svg#icon-search"></use>
            </svg>
          </button>
          <input
            type="text"
            placeholder="buscar tours"
            class="navegador--buscador-input"
          />
        </form>
      </nav>
      <div class="cabezera-logo">
        <a href="/home">
          <img
            id="home"
            class="navegador--elemento"
            src="/imagenes/logo-white.png"
            alt="aplicacion logo"
          />
        </a>
      </div>

      <nav class="navegador navegador--usuarios">
        <% if (usuario) { %>
        <a id="btn-logout" class="navegador--elemento" href="/home">Log out</a>
        <a class="navegador--elemento" href="/me">
          <img
            class="navegador--usuario-imagen"
            src="/imagenes/usuarios/<%= usuario.photo %>"
            alt="foto de <%= usuario.nombre %>"
          />
          <span><%= usuario.nombre %>s</span>
        </a>
        <% }; %> <% if (!usuario) { %>
        <a id="btn-login" class="navegador--elemento" href="/login">Login</a>
        <a
          id="btn-signup"
          class="navegador--elemento navegador--elemento-cuenta"
          href="/signup"
          >Sign up</a
        >
        <% }; %>
      </nav>

      <!-- <button class="nav__el">Log in</button>
        <button class="nav__el nav__el--cta">Sign up</button> -->
    </header>

    <h2><%= tituloDinamico %></h2>

    <!-- ----------------2.0 MAIN ------------->
    <main class="main">
      <div class="tarjeta-contenedor">
        <% dataTours.forEach(function(element){ %>
        <div class="tarjeta">
          <div class="tarjeta--cabezera">
            <div class="tarjeta--figura">
              <div class="tarjeta--figura-overlay">&nbsp;</div>
              <img
                src="/imagenes/tours/<%= element.imageCover %>"
                alt="<% element.nombre %>"
                class="tarjeta--figura-imagen"
              />
            </div>

            <h3 class="titulo-terciario">
              <span><%= element.nombre %></span>
            </h3>
          </div>

          <div class="tarjeta--detalles">
            <h4 class="tarjeta--sub-cabezera">
              <%= `${element.dificultad} ${element.duracion} - dias ` %>
            </h4>
            <p class="tarjeta--texto"><%= element.resumen %></p>
            <div class="tarjeta--datos">
              <svg class="tarjeta--icono">
                <use xlink:href="/imagenes/iconos.svg#icon-map-pin"></use>
              </svg>
              <span><%= element.locacionStart.descripcion %></span>
            </div>
            <div class="tarjeta--datos">
              <svg class="tarjeta--icono">
                <use xlink:href="/imagenes/iconos.svg#icon-calendar"></use>
              </svg>
              <span
                ><%= element.startDates[0].toLocaleString('es-Pe',
                {month:'long', year: 'numeric'}) %></span
              >
            </div>
            <div class="tarjeta--datos">
              <svg class="tarjeta--icono">
                <use xlink:href="/imagenes/iconos.svg#icon-flag"></use>
              </svg>
              <span><%= `${element.locaciones.length} paradas` %></span>
            </div>
            <div class="tarjeta--datos">
              <svg class="tarjeta--icono">
                <use xlink:href="/imagenes/iconos.svg#icon-user"></use>
              </svg>
              <span><%= `${element.maxGroupSize} personas` %></span>
            </div>
          </div>

          <div class="tarjeta--footer">
            <p>
              <span class="tarjeta--footer-valor"><%= element.precio %></span>
              <span class="tarjeta--footer-texto">por persona</span>
            </p>
            <p class="tarjeta--ratings">
              <span class="tarjeta--footer-valor"
                ><%= element.ratingsAverage %></span
              >
              <span class="tarjeta--footer-texto"
                >#Ratings: <%= element.ratingsQuantity %></span
              >
            </p>
            <a
              href="/tour/<%= element.nombreSlugify %>"
              class="boton boton--verde boton--pequeno"
              >detalles</a
            >
          </div>
        </div>
        <% }); %>
      </div>
    </main>
    <!------------------3.0 FOOTER ------------->
    <footer class="footer">
      <div class="footer--logo">
        <img src="/imagenes/logo-green.png" alt="Mi Aplicacion Logo" />
      </div>
      <ul class="footer--navegador">
        <li><a href="#">Sobre Nosotros</a></li>
        <li><a href="#">Descargar Apps</a></li>
        <li><a href="#">Bienvenido Guia</a></li>
        <li><a href="#">Carreras</a></li>
        <li><a href="#">Conctato</a></li>
      </ul>
      <p class="footer--copyright">&copy; por Xavier Huaman</p>
    </footer>
  </body>

  <!-- <script src="./../js/home.js"></script> -->
</html>

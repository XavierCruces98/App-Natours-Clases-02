<% function navegadorItem(link,texto,icono,activo){ %> <% const claseActivo =
activo ? "side-navegador--activo" : "" %>
<li class="<%= claseActivo %>">
  <a href="<%= link %>">
    <svg>
      <use xlink:href="/imagenes/iconos.svg#icon-<%= icono %>"></use>
    </svg>
    <%= texto %>
  </a>
</li>
<% }; %>

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="./../css/estilos.css" />
    <link rel="shortcut icon" type="image/png" href="/imagenes/favicon.png" />
    <script type="module" defer src="./../js/home.js"></script>

    <title>Document</title>
  </head>
  <body>
    <!------------------1.0 CABEZERA ------------->
    <header class="cabezera">
      <nav class="navegador navegador--tours">
        <form class="navegador--buscador">
          <button class="navegador--buscador-boton">
            <svg>
              <use xlink:href="/imagenes/iconos.svg#icon-search"></use>
            </svg>
          </button>
          <input
            type="text"
            placeholder="buscar tours"
            class="navegador--buscador-input"
          />
        </form>
      </nav>
      <div class="cabezera-logo">
        <a href="/home">
          <img
            id="home"
            class="navegador--elemento"
            src="/imagenes/logo-white.png"
            alt="aplicacion logo"
          />
        </a>
      </div>

      <nav class="navegador navegador--usuarios">
        <!-- nota si o si desde el servidor debes pasarle la variable "user" -->
        <!-- nota con el "href" cambias la direcion URL sin necesidad de JS -->
        <% if (usuario) { %>
        <a id="btn-logout" class="navegador--elemento" href="/home">Log out</a>
        <a class="navegador--elemento" href="/me">
          <img
            class="navegador--usuario-imagen"
            src="/imagenes/usuarios/<%= usuario.photo %>"
            alt="foto de <%= usuario.nombre %>"
          />
          <span><%= usuario.nombre %>s</span>
        </a>
        <% }; %> <% if (!usuario) { %>
        <a id="btn-login" class="navegador--elemento" href="/login">Login</a>
        <a
          id="btn-signup"
          class="navegador--elemento navegador--elemento-cuenta"
          href="/signup"
          >Sign up</a
        >
        <% }; %>
      </nav>

      <!-- <button class="nav__el">Log in</button>
        <button class="nav__el nav__el--cta">Sign up</button> -->
    </header>

    <!------------------3.0 MAIN ------------->
    <main class="main">
      <div class="usuario-vista">
        <nav class="usuario-vista--menu">
          <ul class="side-navegador">
            <% navegadorItem("#", "Opciones", "settings", true); %> <%
            navegadorItem("#", "Mi Reservas", "briefcase", false); %> <%
            navegadorItem("#", "Mi Reviews", "star", false); %> <%
            navegadorItem("#", "Facturacion", "credit-card", false); %> <% if
            (usuario.role==="admin"){ %>
            <div class="admin-navegador">
              <h5 class="admin-navegador--titulo">Admin</h5>
              <ul class="side-navegador">
                <% navegadorItem("#", "Manejar Tours", "map", false); %> <%
                navegadorItem("#", "Manejar Usuarios", "users", false); %> <%
                navegadorItem("#", "Manejar Reviews", "star", false); %> <%
                navegadorItem("#", "Manejar Bookings", "briefcase", false); %>
              </ul>
            </div>
            <% }; %>
          </ul>
        </nav>

        <div class="usuario-vista--contenido">
          <div class="usuario-vista--formulario-contenido">
            <h2 class="titulo-secundario quick-facts">Opciones</h2>

            <!-- WITHOUT API -->
            <!-- <form class="" action="/submit-user-data" method="POST"></form> -->

            <!-- WITH API -->
            <form action="" class="">
              <div class="formulario--grupo">
                <label class="formulario--label" for="nombre">Nombre</label>
                <input
                  id="nombre"
                  class="formulario--input"
                  type="text"
                  required
                  name="nombre"
                />
              </div>

              <div class="formulario--grupo quick-facts">
                <label class="formulario--label" for="email">Email</label>
                <input
                  id="email"
                  class="formulario--input"
                  type="text"
                  value="<%= usuario.email %>"
                  required
                  name="email"
                />
              </div>

              <div class="formulario--grupo formulario--foto-upload">
                <img
                  class="formulario--usuario-foto"
                  src="/imagenes/usuarios/<%= usuario.photo %>"
                  alt="foto de <%= usuario.nombre %>"
                />
                <a href="" class="boton-texto">Escoge una foto</a>
              </div>

              <div class="formulario--grupo derecho">
                <button class="boton boton--pequeno boton--verde">
                  Guardar cambios
                </button>
              </div>
            </form>
          </div>

          <div class="linea">&nbsp;</div>

          <div class="usuario-vista--formulario-contenido">
            <h2 class="titulo-secundario quick-facts">Cambiar password</h2>

            <form class="" action="">
              <div class="formulario--grupo">
                <label class="formulario--label" for="password-actual">
                  Actual password
                </label>
                <input
                  class="formulario--input"
                  id="password-actual"
                  type="password"
                  placeholder="Ingresar su password actual"
                  required
                />
              </div>

              <div class="formulario--grupo">
                <label class="formulario--label" for="password">
                  Nuevo Password
                </label>
                <input
                  class="formulario--input"
                  id="password-nuevo"
                  type="password"
                  placeholder="Ingresar su password nuevo"
                  required
                />
              </div>

              <div class="formulario--grupo quick-facts">
                <label class="formulario--label" for="password-confirm">
                  Confirmar Password Nuevo
                </label>
                <input
                  class="formulario--input"
                  id="password-confirm"
                  type="password"
                  placeholder="Confirmar su password nuevo"
                  required
                />
              </div>

              <div class="formulario--grupo derecho">
                <button class="boton boton--pequeno boton--verde">
                  Guardar Password
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </main>
    <!------------------3.0 FOOTER ------------->
    <footer class="footer">
      <div class="footer--logo">
        <img src="/imagenes/logo-green.png" alt="Mi Aplicacion Logo" />
      </div>
      <ul class="footer--navegador">
        <li><a href="#">Sobre Nosotros</a></li>
        <li><a href="#">Descargar Apps</a></li>
        <li><a href="#">Bienvenido Guia</a></li>
        <li><a href="#">Carreras</a></li>
        <li><a href="#">Conctato</a></li>
      </ul>
      <p class="footer--copyright">&copy; por Xavier Huaman</p>
    </footer>
  </body>
</html>
